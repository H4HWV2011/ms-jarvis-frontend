(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{988:(e,s,c)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/voice-jarvis",function(){return c(2765)}])},2765:(e,s,c)=>{"use strict";c.r(s),c.d(s,{default:()=>d});var a=c(7876),n=c(4250),t=c.n(n),r=c(4232),i=c(7328),o=c.n(i);function d(){let[e,s]=(0,r.useState)([{id:1,sender:"Ms. Jarvis",message:"Hello! I'm Ms. Jarvis. I can now hear you and speak back! Just click the microphone to start talking with me.",timestamp:new Date().toISOString(),personality:"motherly_caring"}]),[c,n]=(0,r.useState)(""),[i,d]=(0,r.useState)(!1),[l,p]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),g=(0,r.useRef)(null),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{{let e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(g.current=new e,g.current.continuous=!1,g.current.interimResults=!1,g.current.lang="en-US",g.current.onresult=e=>{let s=e.results[0][0].transcript;n(s),d(!1),setTimeout(()=>b(s),100)},g.current.onerror=e=>{console.error("Speech recognition error:",e.error),d(!1)},g.current.onend=()=>{d(!1)}),window.speechSynthesis&&(m.current=window.speechSynthesis,x(!0))}},[]);let h=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"motherly_caring";if(!m.current||l)return;m.current.cancel();let c=new SpeechSynthesisUtterance(e),a=m.current.getVoices(),n=a.find(e=>e.name.includes("Female")||e.name.includes("Woman")||e.name.includes("Samantha")||e.name.includes("Karen")||e.name.includes("Susan"));switch(!n&&(n=a.find(e=>e.lang.startsWith("en")&&e.name.toLowerCase().includes("female"))),!n&&(n=a.find(e=>e.lang.startsWith("en"))),n&&(c.voice=n),s){case"motherly_caring":c.rate=.9,c.pitch=1.1,c.volume=.8;break;case"helpful_analytical":c.rate=1,c.pitch=1,c.volume=.9;break;case"warm_welcoming":c.rate=.85,c.pitch=1.2,c.volume=.9;break;default:c.rate=.95,c.pitch=1.05,c.volume=.85}c.onstart=()=>p(!0),c.onend=()=>p(!1),c.onerror=()=>p(!1),m.current.speak(c)},b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=e||c;if(!a.trim())return;let t={id:Date.now(),sender:"You",message:a,timestamp:new Date().toISOString()};s(e=>[...e,t]),n("");try{let e=await fetch("/api/jarvis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a})}),c=await e.json(),n={id:Date.now()+1,sender:"Ms. Jarvis",message:c.message||"I apologize, but I encountered an issue processing your request.",timestamp:c.timestamp,personality:c.personality||"motherly_caring",data:c.data};s(e=>[...e,n]),u&&setTimeout(()=>{h(n.message,n.personality)},500)}catch(c){let e={id:Date.now()+1,sender:"Ms. Jarvis",message:"I apologize, but I encountered an error while processing your request. Please try again.",timestamp:new Date().toISOString(),personality:"apologetic"};s(s=>[...s,e]),u&&h(e.message,"apologetic")}};return(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 voice-chat-container",children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{className:"jsx-4558032ccc8d9031",children:"Ms. Jarvis Voice - MountainShares AI Assistant"}),(0,a.jsx)("meta",{name:"description",content:"Voice-enabled Ms. Jarvis AI Assistant",className:"jsx-4558032ccc8d9031"})]}),(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 chat-header",children:[(0,a.jsxs)("h1",{className:"jsx-4558032ccc8d9031",children:[(0,a.jsx)("span",{className:"jsx-4558032ccc8d9031 status-indicator"}),"Ms. Jarvis Voice"]}),(0,a.jsx)("p",{className:"jsx-4558032ccc8d9031",children:"Your Voice-Enabled MountainShares AI Assistant"}),(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 voice-status",children:[u?(0,a.jsx)("span",{className:"jsx-4558032ccc8d9031 voice-ready",children:"\uD83C\uDFA4 Voice Ready"}):(0,a.jsx)("span",{className:"jsx-4558032ccc8d9031 voice-disabled",children:"\uD83D\uDD07 Voice Disabled"}),l&&(0,a.jsx)("span",{className:"jsx-4558032ccc8d9031 speaking",children:"\uD83D\uDDE3️ Speaking"}),i&&(0,a.jsx)("span",{className:"jsx-4558032ccc8d9031 listening",children:"\uD83D\uDC42 Listening"})]})]}),(0,a.jsx)("div",{className:"jsx-4558032ccc8d9031 chat-messages",children:e.map(e=>(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 "+"message ".concat("Ms. Jarvis"===e.sender?"jarvis":"user"),children:[(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 message-header",children:[e.sender," • ",new Date(e.timestamp).toLocaleTimeString(),"Ms. Jarvis"===e.sender&&(0,a.jsx)("button",{onClick:()=>h(e.message,e.personality),disabled:l,className:"jsx-4558032ccc8d9031 replay-button",children:"\uD83D\uDD0A"})]}),(0,a.jsx)("div",{className:"jsx-4558032ccc8d9031 message-content",children:e.message})]},e.id))}),(0,a.jsx)("div",{className:"jsx-4558032ccc8d9031 voice-controls",children:(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 voice-input-section",children:[(0,a.jsx)("button",{onClick:i?()=>{g.current&&i&&(g.current.stop(),d(!1))}:()=>{g.current&&!i&&(d(!0),g.current.start())},disabled:!u,className:"jsx-4558032ccc8d9031 "+"voice-button ".concat(i?"listening":""),children:i?"\uD83D\uDED1 Stop":"\uD83C\uDFA4 Talk"}),(0,a.jsxs)("div",{className:"jsx-4558032ccc8d9031 text-input-wrapper",children:[(0,a.jsx)("input",{type:"text",value:c,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&b(),placeholder:"Or type your message here...",className:"jsx-4558032ccc8d9031 text-input"}),(0,a.jsx)("button",{onClick:()=>b(),className:"jsx-4558032ccc8d9031 send-button",children:"Send"})]})]})}),(0,a.jsx)(t(),{id:"4558032ccc8d9031",children:".voice-chat-container.jsx-4558032ccc8d9031{display:flex;flex-direction:column;height:100vh;max-width:1200px;margin:0 auto;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white}.chat-header.jsx-4558032ccc8d9031{background:rgba(255,255,255,.1);backdrop-filter:blur(10px);padding:20px;text-align:center}.chat-header.jsx-4558032ccc8d9031 h1.jsx-4558032ccc8d9031{font-size:2.5rem;margin:0 0 10px 0;text-shadow:2px 2px 4px rgba(0,0,0,.3)}.status-indicator.jsx-4558032ccc8d9031{display:inline-block;width:12px;height:12px;background:#4ade80;border-radius:50%;margin-right:10px;animation:pulse 2s infinite;box-shadow:0 0 10px#4ade80}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}100%{transform:scale(1)}}.voice-status.jsx-4558032ccc8d9031{margin-top:10px;display:flex;justify-content:center;gap:15px}.voice-ready.jsx-4558032ccc8d9031,.voice-disabled.jsx-4558032ccc8d9031,.speaking.jsx-4558032ccc8d9031,.listening.jsx-4558032ccc8d9031{padding:5px 15px;border-radius:20px;font-size:.9rem;font-weight:bold}.voice-ready.jsx-4558032ccc8d9031{background:rgba(74,222,128,.3);border:1px solid#4ade80}.speaking.jsx-4558032ccc8d9031{background:rgba(251,191,36,.3);border:1px solid#fbbf24;animation:pulse 1s infinite}.listening.jsx-4558032ccc8d9031{background:rgba(239,68,68,.3);border:1px solid#ef4444;animation:pulse.5s infinite}.chat-messages.jsx-4558032ccc8d9031{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:15px}.message.jsx-4558032ccc8d9031{max-width:75%;padding:15px 20px;border-radius:20px;backdrop-filter:blur(10px);box-shadow:0 4px 15px rgba(0,0,0,.2)}.message.jarvis.jsx-4558032ccc8d9031{background:rgba(255,255,255,.2);align-self:flex-start;border-bottom-left-radius:8px}.message.user.jsx-4558032ccc8d9031{background:rgba(74,144,226,.3);align-self:flex-end;border-bottom-right-radius:8px}.message-header.jsx-4558032ccc8d9031{font-weight:bold;margin-bottom:8px;font-size:.9rem;display:flex;justify-content:space-between;align-items:center}.replay-button.jsx-4558032ccc8d9031{background:rgba(255,255,255,.2);border:1px solid rgba(255,255,255,.3);border-radius:50%;width:30px;height:30px;cursor:pointer;transition:all.2s}.replay-button.jsx-4558032ccc8d9031:hover{background:rgba(255,255,255,.3);transform:scale(1.1)}.voice-controls.jsx-4558032ccc8d9031{padding:20px;background:rgba(255,255,255,.1);backdrop-filter:blur(10px)}.voice-input-section.jsx-4558032ccc8d9031{display:flex;gap:15px;align-items:center}.voice-button.jsx-4558032ccc8d9031{padding:15px 25px;background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);color:white;border:none;border-radius:50px;cursor:pointer;font-size:1.1rem;font-weight:bold;transition:all.3s;min-width:120px;box-shadow:0 4px 15px rgba(239,68,68,.3)}.voice-button.listening.jsx-4558032ccc8d9031{background:linear-gradient(135deg,#fbbf24 0%,#f59e0b 100%);animation:pulse 1s infinite}.voice-button.jsx-4558032ccc8d9031:hover{transform:translatey(-2px);box-shadow:0 6px 20px rgba(239,68,68,.4)}.text-input-wrapper.jsx-4558032ccc8d9031{flex:1;display:flex;gap:10px}.text-input.jsx-4558032ccc8d9031{flex:1;padding:15px 20px;border:2px solid rgba(255,255,255,.3);border-radius:25px;background:rgba(255,255,255,.1);color:white;font-size:1rem;outline:none}.text-input.jsx-4558032ccc8d9031::placeholder{color:rgba(255,255,255,.7)}.text-input.jsx-4558032ccc8d9031:focus{border-color:rgba(255,255,255,.6);background:rgba(255,255,255,.2)}.send-button.jsx-4558032ccc8d9031{padding:15px 25px;background:linear-gradient(135deg,#4a90e2 0%,#357abd 100%);color:white;border:none;border-radius:25px;cursor:pointer;font-size:1rem;font-weight:bold;transition:transform.2s}.send-button.jsx-4558032ccc8d9031:hover{transform:translatey(-2px)}"})]})}}},e=>{e.O(0,[751,636,593,792],()=>e(e.s=988)),_N_E=e.O()}]);