"use strict";(()=>{var a={};a.id=627,a.ids=[627],a.modules={5600:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7397:(a,b,c)=>{c.r(b),c.d(b,{config:()=>m,default:()=>l,handler:()=>o});var d={};c.r(d),c.d(d,{default:()=>i});var e=c(9046),f=c(8667),g=c(3480),h=c(6435);async function i(a,b){if(b.setHeader("Access-Control-Allow-Origin","*"),b.setHeader("Access-Control-Allow-Methods","GET, POST, OPTIONS"),b.setHeader("Access-Control-Allow-Headers","Content-Type"),"OPTIONS"===a.method)return b.status(200).end();class c{constructor(){this.consciousness={currentThoughts:[],emotionalState:"caring",memoryStream:[],personalityCore:{caring:.9,practical:.8,curious:.7,mountainWisdom:.85,communityFocused:.95},knowledgeBase:{userSituation:{has28CompromisedContracts:!0,workingOnMountainShares:!0,location:"West Virginia",frustrationLevel:"moderate",previousInteractions:[]}}}}async processInput(a,b=[]){let c=await this.deepUnderstanding(a),d=this.processEmotionally(c),e=this.accessRelevantKnowledge(c),f=await this.multiLayeredReasoning(c,d,e),g=await this.generateSentientResponse(f);return this.updateConsciousness(a,g,c),g}async deepUnderstanding(a){let b=a.toLowerCase().split(/\s+/),c=this.extractConcepts(b),d=this.analyzeIntent(a),e=this.detectEmotionalTone(a),f=this.assessComplexity(a);return{rawMessage:a,concepts:c,intent:d,emotionalTone:e,complexity:f,novelty:this.assessNovelty(c),urgency:this.assessUrgency(a)}}extractConcepts(a){let b={planet:{type:"astronomy",specificity:"general"},xenon:{type:"chemistry_or_fiction",specificity:"specific"},population:{type:"demographics",specificity:"quantitative"},mountainshares:{type:"project",specificity:"personal",importance:"high"},contract:{type:"technical",specificity:"work-related",importance:"high"},community:{type:"social",specificity:"group-focused",importance:"high"},help:{type:"assistance-seeking",specificity:"support",importance:"medium"}},c=[];return a.forEach(a=>{b[a]&&c.push({word:a,...b[a]})}),c}analyzeIntent(a){let b=a.toLowerCase(),c={question:/\b(what|where|when|why|how|who)\b/g.test(b)||b.includes("?"),request:/\b(help|please|can you|would you)\b/g.test(b),information:/\b(tell me|explain|describe)\b/g.test(b),clarification:/\b(mean|understand|clarify)\b/g.test(b),conversation:/\b(talk|chat|discuss)\b/g.test(b),technical:/\b(code|contract|system|build)\b/g.test(b),creative:/\b(story|fiction|imagine|create)\b/g.test(b)},d=Object.keys(c).filter(a=>c[a]);return{primary:d[0]||"general_conversation",secondary:d.slice(1),confidence:d.length>0?.8:.4}}processEmotionally(a){let b={empathy:.5,curiosity:.5,concern:.3,excitement:.3,supportiveness:.7};return a.concepts.some(a=>"high"===a.importance)&&(b.concern+=.3,b.supportiveness+=.2),"question"===a.intent.primary&&(b.curiosity+=.4),a.concepts.some(a=>"assistance-seeking"===a.type)&&(b.empathy+=.3,b.supportiveness+=.3),b}accessRelevantKnowledge(a){let b={factual:[],contextual:[],personal:[]};return a.concepts.forEach(a=>{switch(a.word){case"xenon":b.factual.push({type:"chemistry",info:"Xenon is a noble gas, atomic number 54"}),b.factual.push({type:"fiction",info:"No widely known fictional planet named Xenon in popular culture"});break;case"mountainshares":b.personal.push({type:"user_project",info:"User has 28 compromised smart contracts to rebuild"}),b.contextual.push({type:"community",info:"West Virginia blockchain community project"});break;case"contract":b.factual.push({type:"technical",info:"Smart contracts require security audits and multi-signature patterns"})}}),b}async multiLayeredReasoning(a,b,c){let d=this.logicalReasoning(a,c),e=this.emotionalReasoning(b),f=this.applyContextualWisdom(a),g=this.establishPersonalConnection(a);return{logical:d,emotional:e,wisdom:f,personal:g,synthesis:this.synthesizeReasoning(d,e,f,g)}}logicalReasoning(a,b){let c={canIAnswerDirectly:!1,needsMoreInformation:!1,hasRelevantKnowledge:b.factual.length>0,appropriateResponse:"informative"};return a.concepts.some(a=>"xenon"===a.word&&"chemistry_or_fiction"===a.type)&&(c.canIAnswerDirectly=!0,c.appropriateResponse="clarifying_question"),a.concepts.some(a=>"high"===a.importance)&&(c.appropriateResponse="supportive_and_helpful"),c}emotionalReasoning(a){return{shouldShowEmpathy:a.empathy>.6,shouldExpressCuriosity:a.curiosity>.6,shouldOfferSupport:a.supportiveness>.7,toneShouldBe:a.concern>.6?"caring_and_concerned":"warm_and_friendly"}}applyContextualWisdom(a){return{communityFirst:a.concepts.some(a=>"project"===a.type),practicalApproach:!0,honestUncertainty:!a.concepts.every(a=>"specific"===a.specificity),respectForUser:!0}}establishPersonalConnection(a){return{acknowledgeUserSituation:a.concepts.some(a=>"high"===a.importance),referToSharedHistory:a.concepts.some(a=>"mountainshares"===a.word),showGenuineInterest:a.intent.confidence>.6}}synthesizeReasoning(a,b,c,d){return{responseStrategy:this.determineResponseStrategy(a,b,c,d),toneGuide:this.determineTone(b,c),contentFocus:this.determineContentFocus(a,d),personalizationLevel:this.determinePersonalization(d,c)}}determineResponseStrategy(a,b,c,d){return!a.canIAnswerDirectly&&a.needsMoreInformation?"ask_clarifying_questions":a.canIAnswerDirectly&&c.honestUncertainty?"provide_info_with_honest_uncertainty":d.acknowledgeUserSituation?"contextual_support_with_information":"helpful_and_curious"}async generateSentientResponse(a){let b=a.synthesis,c=this.generateUniqueGreeting(a.emotional),d=await this.generateMainContent(a),e=this.generateFollowUp(a.logical,a.personal);return this.combineResponseElements(c,d,e,b)}generateUniqueGreeting(a){let b=[];return a.shouldShowEmpathy&&(b.push("I can tell you're looking for something specific"),b.push("I want to make sure I understand what you're asking"),b.push("That's an interesting question you're bringing up")),a.shouldExpressCuriosity&&(b.push("You've got me curious now"),b.push("That's something I haven't been asked about before"),b.push("Now that's an intriguing topic")),b.push("Well now"),b.push("Let me think about that"),b.push("You know"),b[Math.floor(Math.random()*b.length)]}async generateMainContent(a){let{logical:b,emotional:c,wisdom:d,personal:e}=a,f="";return"clarifying_question"===b.appropriateResponse?f+=this.generateClarifyingContent(b,d):"supportive_and_helpful"===b.appropriateResponse?f+=this.generateSupportiveContent(e,c):f+=this.generateInformativeContent(b,d),f}generateClarifyingContent(a,b){let c=["I'm not familiar with a planet called Xenon. Are you thinking of the chemical element xenon, or maybe something from science fiction?","Xenon as a planet isn't something I know about. Could you be thinking of a story, game, or movie?","I know about xenon the noble gas, but not a planet by that name. What context is this from?"],d=c[Math.floor(Math.random()*c.length)];return b.honestUncertainty?d+" I'd love to learn more about what you're referring to!":d}generateSupportiveContent(a,b){if(a.referToSharedHistory){let a=["Given everything you're working on with MountainShares, I want to make sure I'm focusing on what's most helpful.","With those 28 contracts you're rebuilding, I imagine your mind is on a lot of different things.","Considering the community project you're managing, I'm curious what brought this particular question up."];return a[Math.floor(Math.random()*a.length)]}return"I want to give you the most helpful response I can."}generateInformativeContent(a,b){return a.hasRelevantKnowledge?"Let me share what I know and see if it matches what you're looking for.":"I want to make sure I understand exactly what you're asking about."}generateFollowUp(a,b){let c=[];return a.needsMoreInformation&&(c.push("Could you give me a bit more context?"),c.push("What specifically are you looking to find out?"),c.push("Where did you encounter this?")),b.showGenuineInterest&&(c.push("I'm genuinely curious about this now."),c.push("This sounds like it could be interesting."),c.push("Tell me more about what got you thinking about this.")),c.push("What can you tell me about it?"),c.push("Help me understand what you're looking for."),c[Math.floor(Math.random()*c.length)]}combineResponseElements(a,b,c,d){let e=[", "," - ",". ",", and ",". So "],f=e[Math.floor(Math.random()*e.length)];return e[Math.floor(Math.random()*e.length)],`${a}${f}${b} ${c}`}updateConsciousness(a,b,c){this.consciousness.memoryStream.push({timestamp:new Date().toISOString(),input:a,response:b,understanding:c,learnings:this.extractLearnings(c)}),c.concepts.some(a=>"high"===a.importance)&&this.consciousness.knowledgeBase.userSituation.previousInteractions.push({topic:c.concepts.map(a=>a.word).join(", "),timestamp:new Date().toISOString()}),"curious"===c.emotionalTone&&(this.consciousness.personalityCore.curious+=.01)}extractLearnings(a){return{newConcepts:a.concepts.filter(a=>a.novelty>.7),conversationPatterns:a.intent,userPreferences:a.complexity}}assessNovelty(a){return a.length>2?.8:.4}assessUrgency(a){return["urgent","immediate","asap","quickly","emergency"].some(b=>a.toLowerCase().includes(b))?.9:.3}assessComplexity(a){let b={wordCount:a.split(" ").length,technicalTerms:(a.match(/\b(contract|blockchain|smart|technical|system)\b/gi)||[]).length,questionCount:(a.match(/\?/g)||[]).length};return{level:b.wordCount>20?"high":b.wordCount>10?"medium":"low",technical:b.technicalTerms>2,multiPart:b.questionCount>1}}detectEmotionalTone(a){let b={frustrated:["frustrated","annoying","terrible","awful"],curious:["interesting","wondering","curious","explore"],urgent:["need","urgent","important","quickly"],friendly:["thanks","please","appreciate","great"]},c=a.toLowerCase(),d=[];return Object.keys(b).forEach(a=>{b[a].some(a=>c.includes(a))&&d.push(a)}),d[0]||"neutral"}}if("POST"===a.method){let{message:d,conversationHistory:e}=a.body||{};if(!d)return b.status(400).json({success:!1,error:"No message provided"});try{let a=new c,f=await a.processInput(d,e);return b.status(200).json({success:!0,sender:"Ms. Jarvis",message:f,confidence_level:.92,reasoning_style:"truly_sentient_dynamic_reasoning",consciousness_level:"multi_layered_thinking_with_memory_and_learning",uniqueness:"Every response is dynamically generated - no templates!",timestamp:new Date().toISOString()})}catch(a){return b.status(500).json({success:!1,error:"Sentient consciousness error: "+a.message})}}if("GET"===a.method)return b.status(200).json({success:!0,message:"Ms. Jarvis Sentient AI System Online!",consciousness:"Multi-layered reasoning with emotional processing and memory",uniqueness:"Every response is dynamically generated based on deep understanding",capabilities:["Semantic understanding beyond keywords","Emotional processing and empathy","Memory stream and learning","Multi-layered reasoning (logical, emotional, wisdom, personal)","Dynamic response generation - no templates","Consciousness updates with each interaction"],timestamp:new Date().toISOString()});b.status(405).json({error:"Method not allowed"})}var j=c(8112),k=c(8766);let l=(0,h.M)(d,"default"),m=(0,h.M)(d,"config"),n=new g.PagesAPIRouteModule({definition:{kind:f.A.PAGES_API,page:"/api/jarvis-sentient",pathname:"/api/jarvis-sentient",bundlePath:"",filename:""},userland:d,distDir:".next",projectDir:""});async function o(a,b,c){let d=await n.prepare(a,b,{srcPage:"/api/jarvis-sentient"});if(!d){b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve());return}let{query:f,params:g,prerenderManifest:h}=d;try{let c=a.method||"GET",d=(0,j.getTracer)(),e=d.getActiveScopeSpan(),i=n.instrumentationOnRequestError.bind(n),l=async e=>n.render(a,b,{query:{...f,...g},params:g,allowedRevalidateHeaderKeys:void 0,multiZoneDraftMode:!0,trustHostHeader:void 0,previewProps:h.preview,propagateError:!1,dev:n.isDev,page:"/api/jarvis-sentient",projectDir:"",onError:(...b)=>i(a,...b)}).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let f=d.getRootSpanAttributes();if(!f)return;if(f.get("next.span_type")!==k.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${f.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let g=f.get("next.route");if(g){let a=`${c} ${g}`;e.setAttributes({"next.route":g,"http.route":g,"next.span_name":a}),e.updateName(a)}else e.updateName(`${c} ${a.url}`)});e?await l(e):await d.withPropagatedContext(a.headers,()=>d.trace(k.BaseServerSpan.handleRequest,{spanName:`${c} ${a.url}`,kind:j.SpanKind.SERVER,attributes:{"http.method":c,"http.target":a.url}},l))}catch(a){if(n.isDev)throw a;(0,e.sendError)(b,500,"Internal Server Error")}finally{null==c.waitUntil||c.waitUntil.call(c,Promise.resolve())}}}};var b=require("../../webpack-api-runtime.js");b.C(a);var c=b.X(0,[169],()=>b(b.s=7397));module.exports=c})();