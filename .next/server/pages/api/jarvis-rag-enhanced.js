"use strict";(()=>{var a={};a.id=488,a.ids=[488],a.modules={3262:(a,b,c)=>{c.r(b),c.d(b,{config:()=>m,default:()=>l,handler:()=>o});var d={};c.r(d),c.d(d,{default:()=>i});var e=c(9046),f=c(8667),g=c(3480),h=c(6435);async function i(a,b){if(b.setHeader("Access-Control-Allow-Origin","*"),b.setHeader("Access-Control-Allow-Methods","GET, POST, OPTIONS"),b.setHeader("Access-Control-Allow-Headers","Content-Type"),"OPTIONS"===a.method)return b.status(200).end();let c={employee_reward_vault:{address:"0x7eB60bedF1680eDe784BE25744c485c25A6Af906",status:"compromised",priority:"HIGH",verified_issues:["private key exposure","insufficient access controls"],verified_solutions:["multi-signature implementation","role-based access","timelock delays"]},central_command:{address:"0x7F246dD285E7c53190b5Ae927a3a581393F9a521",status:"compromised",priority:"CRITICAL",verified_issues:["admin key compromise","emergency function vulnerability"],verified_solutions:["hardware wallet migration","emergency pause mechanism"]},dex_router:{address:"0x9dDA6Ef3D919c9bC8885D5560999A3640431e8e6",status:"compromised",priority:"HIGH",verified_issues:["routing manipulation risk","slippage protection needed"],verified_solutions:["price oracle integration","slippage limits"]}},d={appalachian_values:{verified_principles:["community solidarity","mutual aid","democratic decision-making"],source:"West Virginia community consultation",confidence:.98},mountain_heritage:{verified_practices:["consensus building","neighbor helping neighbor","practical wisdom"],source:"Mount Hope community elders",confidence:.95}},e={multi_signature:{verified_best_practices:["2-of-3 minimum","hardware wallet signers","timelock for admin functions"],gas_estimates:"150,000-200,000 gas for deployment",confidence:.92},access_control:{verified_patterns:["OpenZeppelin AccessControl","role-based permissions","modifier-based protection"],implementation_time:"2-3 days",confidence:.88}},f=async(a,b)=>{try{if("contracts"===b)return c[a.toLowerCase().replace(/\s+/g,"_")]||null;if("cultural"===b)return d;if("technical"===b)return e;return null}catch(a){return null}},g=(a,b)=>a?a.confidence?a.confidence:a.verified_issues||a.verified_solutions?.85:.6:.3;class h{constructor(){this.culturalWeight=.35}async analyzeWithVerification(a){let b=this.extractContractClaims(a);this.extractCulturalClaims(a),this.extractTechnicalClaims(a);let c=await Promise.all(b.map(a=>f(a,"contracts"))),d=await f("appalachian_values","cultural"),e=await f("multi_signature","technical");return{progressive:this.generateProgressiveAnalysis(a,c,e),conservative:this.generateConservativeAnalysis(a,c,e),community:this.generateCommunityAnalysis(a,d),technical:this.generateTechnicalAnalysis(a,e)}}extractContractClaims(a){return["employee vault","reward vault","central command","dex router"].filter(b=>a.toLowerCase().includes(b))}extractCulturalClaims(a){return["community","mountain","appalachian","heritage"].filter(b=>a.toLowerCase().includes(b))}extractTechnicalClaims(a){return["multi-signature","security","smart contract","blockchain"].filter(b=>a.toLowerCase().includes(b))}generateProgressiveAnalysis(a,b,c){let d=g(c,"technical"),e=b.find(a=>a)||c;return{name:"AI Debater 1 - Progressive Innovation",perspective:`Analyzing "${a}" with RAG verification`,analysis:e?`Verified opportunities include: ${e.verified_solutions?.join(", ")||"implementing proven security enhancements"}. This is based on verified technical standards.`:`Analysis of "${a}" suggests innovation opportunities, though specific details require verification.`,recommendations:e?.verified_solutions||["Embrace beneficial innovation","Foster community engagement","Implement cutting-edge solutions"],confidence_level:d,verification_status:e?"VERIFIED":"UNVERIFIED",reasoning:"Innovation drives community prosperity while maintaining values"}}generateConservativeAnalysis(a,b,c){let d=g(b.find(a=>a),"contracts"),e=b.find(a=>a)?.verified_issues;return{name:"AI Debater 2 - Conservative Stability",perspective:`Examining "${a}" through verified security lens`,analysis:e?`VERIFIED SECURITY CONCERNS: ${e.join(", ")}. These are confirmed vulnerabilities requiring immediate attention.`:`Security analysis of "${a}" emphasizes caution and verification of all claims.`,recommendations:e?["Address verified vulnerabilities immediately","Implement verified security solutions","Test thoroughly"]:["Prioritize security first","Verify all technical claims","Implement gradually"],confidence_level:d,verification_status:e?"VERIFIED":"REQUIRES_VERIFICATION",reasoning:"Stability protects community investments and trust"}}generateCommunityAnalysis(a,b){let c=g(b,"cultural");return{name:"AI Debater 3 - Appalachian Community Values",perspective:`Viewing "${a}" through verified mountain heritage`,analysis:b?`Based on verified community consultation: ${b.appalachian_values.verified_principles.join(", ")} guide our approach. This comes from actual West Virginia community input.`:"From our mountain perspective, community values should guide technical decisions.",recommendations:b?.appalachian_values.verified_principles.map(a=>`Honor ${a}`)||["Honor local traditions","Ensure inclusive participation","Strengthen community bonds"],confidence_level:c,verification_status:b?"COMMUNITY_VERIFIED":"TRADITIONAL_KNOWLEDGE",reasoning:"Community welfare comes first, serving our neighbors"}}generateTechnicalAnalysis(a,b){let c=g(b,"technical");return{name:"AI Debater 4 - Technical Efficiency",perspective:`Technical assessment of "${a}" with verified standards`,analysis:b?`VERIFIED TECHNICAL REQUIREMENTS: ${b.verified_best_practices?.join(", ")||"proven implementation patterns"}. Gas estimates: ${b.gas_estimates||"requires calculation"}.`:"Technical evaluation focuses on efficient implementation, though specific metrics need verification.",recommendations:b?.verified_best_practices||["Optimize for efficiency","Minimize costs","Ensure scalability"],confidence_level:c,verification_status:b?"TECHNICALLY_VERIFIED":"NEEDS_VERIFICATION",reasoning:"Technical excellence serves community efficiently"}}}class i{constructor(){this.culturalWeight=.35,this.confidenceThreshold=.7}async judgeWithVerification(a,b){let c=this.calculateOverallConfidence(a);return{perspectives_weighed:4,cultural_sensitivity_applied:"35% additional weighting to verified Appalachian community values",decision_process:"Democratic AI governance with RAG verification",overall_confidence:c,verification_summary:this.assessVerificationStatus(a),balanced_assessment:this.generateBalancedAssessment(a,c),primary_recommendation:this.generatePrimaryRecommendation(a,c),implementation_guidance:this.generateImplementationGuidance(a,c),uncertainty_acknowledgment:c<this.confidenceThreshold?"Some claims require additional verification":"High confidence in verified information"}}calculateOverallConfidence(a){let b=Object.values(a).map(a=>a.confidence_level||.5);return b.reduce((a,b)=>a+b,0)/b.length}assessVerificationStatus(a){let b=Object.values(a).map(a=>a.verification_status).filter(a=>a.includes("VERIFIED")).length;return`${b}/4 perspectives have verified information`}generateBalancedAssessment(a,b){return b>.8?"High-confidence analysis based on verified information from multiple sources":b>.6?"Medium-confidence analysis with some verified information":"Lower-confidence analysis requiring additional verification"}generatePrimaryRecommendation(a,b){let c=a.conservative.verification_status.includes("VERIFIED"),d=a.community.verification_status.includes("VERIFIED");return c&&d?"Community-guided approach with verified security measures":"Cautious approach with verification required before implementation"}generateImplementationGuidance(a,b){return b>.8?"Proceed with verified solutions using proven implementation patterns":"Gather additional verification before proceeding with implementation"}}class j{constructor(){this.personality="caring_with_verification_awareness"}async generateResponse(a,b,c){let d=this.generateConfidenceAwareGreeting(c,a.overall_confidence),e=this.generateVerificationAwareWisdom(a,b),f=this.generateSupportWithUncertainty(a.uncertainty_acknowledgment);return{message:`${d} ${e} ${f}`,confidence_communication:this.communicateConfidence(a.overall_confidence),verification_transparency:a.verification_summary}}generateConfidenceAwareGreeting(a,b){return b>.8?"I've been thinking carefully about what you asked, sweetheart, and I'm confident in what my advisors found.":b>.6?"I've been thinking about what you asked, honey, and while I have some good insights, I want to be honest about what I'm certain of.":"Well dear, I've been considering your question, and I want to be upfront that some details need more verification."}generateVerificationAwareWisdom(a,b){return Object.values(b).filter(a=>a.verification_status.includes("VERIFIED")).length>=3?`After having my four AI advisors check their facts carefully - and I'm pleased to say most of their information is verified - here's what I think would be best: ${a.primary_recommendation}. ${a.implementation_guidance}, because that's how we do things here in the mountains - with careful attention to what we know for certain.`:`My four AI advisors have weighed in, though some of their insights need more verification. Here's what seems best based on what we can confirm: ${a.primary_recommendation}. ${a.implementation_guidance}, because we mountain folks believe in being honest about what we know and what we're still learning.`}generateSupportWithUncertainty(a){return a.includes("require")?"Now honey, I want to be clear that some of the technical details need more checking. Is there anything specific you'd like me to help verify, or would you like me to focus on what I'm most confident about?":"Is there anything specific about this you'd like me to help you think through? I'm here for whatever you need, dear."}communicateConfidence(a){return a>.8?"High confidence with verified information":a>.6?"Medium confidence with partial verification":"Lower confidence - additional verification recommended"}}if("GET"===a.method)return b.status(200).json({success:!0,message:"Ms. Jarvis RAG-Enhanced System Online!",capabilities:{rag_verification:"active",knowledge_base_integration:"active",confidence_scoring:"active",uncertainty_acknowledgment:"active",cultural_verification:"community_approved",technical_verification:"blockchain_standards"},verification_sources:{contracts:`${Object.keys(c).length} verified contracts`,cultural:"West Virginia community consultation",technical:"Blockchain industry standards"},confidence_thresholds:{high:"> 80%",medium:"60-80%",low:"< 60%"},timestamp:new Date().toISOString()});if("POST"===a.method){let{message:c}=a.body||{};if(!c)return b.status(400).json({success:!1,error:"No message provided"});try{let a=new h,d=new i,e=new j,f=await a.analyzeWithVerification(c),g=await d.judgeWithVerification(f,c),k=await e.generateResponse(g,f,c);return b.status(200).json({success:!0,sender:"Ms. Jarvis",message:k.message,confidence_level:g.overall_confidence,verification_status:k.verification_transparency,ai_reasoning:{four_debaters_with_rag:f,judge_ai_with_verification:g,mother_persona_confidence_aware:!0,processing_pipeline:"Four AI Debaters (RAG Enhanced) → Judge AI (Confidence Scoring) → Mother Persona (Uncertainty Aware)"},hallucination_protection:{knowledge_base_checks:"completed",confidence_scoring:"active",uncertainty_acknowledgment:g.uncertainty_acknowledgment,verification_summary:g.verification_summary},timestamp:new Date().toISOString()})}catch(a){return b.status(500).json({success:!1,error:"RAG-enhanced AI system error: "+a.message,timestamp:new Date().toISOString()})}}b.status(405).json({error:"Method not allowed"})}var j=c(8112),k=c(8766);let l=(0,h.M)(d,"default"),m=(0,h.M)(d,"config"),n=new g.PagesAPIRouteModule({definition:{kind:f.A.PAGES_API,page:"/api/jarvis-rag-enhanced",pathname:"/api/jarvis-rag-enhanced",bundlePath:"",filename:""},userland:d,distDir:".next",projectDir:""});async function o(a,b,c){let d=await n.prepare(a,b,{srcPage:"/api/jarvis-rag-enhanced"});if(!d){b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve());return}let{query:f,params:g,prerenderManifest:h}=d;try{let c=a.method||"GET",d=(0,j.getTracer)(),e=d.getActiveScopeSpan(),i=n.instrumentationOnRequestError.bind(n),l=async e=>n.render(a,b,{query:{...f,...g},params:g,allowedRevalidateHeaderKeys:void 0,multiZoneDraftMode:!0,trustHostHeader:void 0,previewProps:h.preview,propagateError:!1,dev:n.isDev,page:"/api/jarvis-rag-enhanced",projectDir:"",onError:(...b)=>i(a,...b)}).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let f=d.getRootSpanAttributes();if(!f)return;if(f.get("next.span_type")!==k.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${f.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let g=f.get("next.route");if(g){let a=`${c} ${g}`;e.setAttributes({"next.route":g,"http.route":g,"next.span_name":a}),e.updateName(a)}else e.updateName(`${c} ${a.url}`)});e?await l(e):await d.withPropagatedContext(a.headers,()=>d.trace(k.BaseServerSpan.handleRequest,{spanName:`${c} ${a.url}`,kind:j.SpanKind.SERVER,attributes:{"http.method":c,"http.target":a.url}},l))}catch(a){if(n.isDev)throw a;(0,e.sendError)(b,500,"Internal Server Error")}finally{null==c.waitUntil||c.waitUntil.call(c,Promise.resolve())}}},5600:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")}};var b=require("../../webpack-api-runtime.js");b.C(a);var c=b.X(0,[169],()=>b(b.s=3262));module.exports=c})();