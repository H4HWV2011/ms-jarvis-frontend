(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1192:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/voice-jarvis-rag",function(){return s(6582)}])},6582:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var i=s(7876),n=s(4250),c=s.n(n),t=s(4232),r=s(7328),d=s.n(r);function o(){let[e,a]=(0,t.useState)(!1),[s,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(""),[l,b]=(0,t.useState)(!1),[x,p]=(0,t.useState)(!1),[u,g]=(0,t.useState)(!1),m=(0,t.useRef)(null),h=(0,t.useRef)(null);(0,t.useEffect)(()=>{a(!0),n([{id:1,sender:"Ms. Jarvis",message:"Hello dear! I'm Ms. Jarvis with enhanced verification capabilities. I can now check my facts against verified sources and tell you exactly how confident I am in my responses. What would you like to discuss?",timestamp:new Date().toISOString(),confidence_level:.95,verification_status:"SYSTEM_VERIFIED"}])},[]),(0,t.useEffect)(()=>{e&&f()},[e]);let f=async()=>{{let e=window.SpeechRecognition||window.webkitSpeechRecognition;e&&(m.current=new e,m.current.continuous=!1,m.current.interimResults=!1,m.current.lang="en-US",m.current.onresult=e=>{let a=e.results[0][0].transcript;o(a),b(!1),setTimeout(()=>v(a),100)},m.current.onerror=e=>{console.error("Speech recognition error:",e.error),b(!1)}),window.speechSynthesis&&(h.current=window.speechSynthesis,g(!0))}},j=function(e,a){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],!h.current||x)return;h.current.cancel();let s=new SpeechSynthesisUtterance(e),i=h.current.getVoices(),n=i.find(e=>e.name.includes("Aria")||e.name.includes("Karen")||e.name.includes("Samantha"))||i.find(e=>e.lang.startsWith("en"));n&&(s.voice=n),a>.8?(s.rate=.88,s.pitch=1.08,s.volume=.85):a>.6?(s.rate=.82,s.pitch=1.05,s.volume=.8):(s.rate=.78,s.pitch=1.02,s.volume=.75),s.onstart=()=>p(!0),s.onend=()=>p(!1),s.onerror=()=>p(!1),h.current.speak(s)},v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=e||r;if(!a.trim())return;let s={id:Date.now(),sender:"You",message:a,timestamp:new Date().toISOString(),voice_input:!!e};n(e=>[...e,s]),o("");try{let e=await fetch("/api/jarvis-enhanced-knowledge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:a})}),s=await e.json(),i={id:Date.now()+1,sender:"Ms. Jarvis",message:s.message||"I'm here to help, honey, but had a small technical issue. Please try again.",timestamp:s.timestamp||new Date().toISOString(),confidence_level:s.confidence_level||.7,verification_status:s.verification_status||"PROCESSING",ai_reasoning:s.ai_reasoning,hallucination_protection:s.hallucination_protection};n(e=>[...e,i]),u&&setTimeout(()=>{j(i.message,i.confidence_level)},500)}catch(a){let e={id:Date.now()+1,sender:"Ms. Jarvis",message:"I apologize, honey, but I'm having a technical issue right now. Please try again in a moment.",timestamp:new Date().toISOString(),confidence_level:.1,verification_status:"ERROR"};n(a=>[...a,e])}};return e?(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d rag-voice-container",children:[(0,i.jsx)(d(),{children:(0,i.jsx)("title",{className:"jsx-34c6e65c9beeba9d",children:"Ms. Jarvis RAG-Enhanced Voice + AI - MountainShares"})}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d header",children:[(0,i.jsx)("h1",{className:"jsx-34c6e65c9beeba9d",children:"\uD83E\uDDE0 Ms. Jarvis RAG-Enhanced Voice + Verification"}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d status-bar",children:[(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d status-item",children:[(0,i.jsx)("span",{className:"jsx-34c6e65c9beeba9d indicator voice-ready"}),"Voice: ",u?"Ready":"Loading..."]}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d status-item",children:[(0,i.jsx)("span",{className:"jsx-34c6e65c9beeba9d indicator rag-active"}),"RAG Verification: Active"]}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d status-item",children:[(0,i.jsx)("span",{className:"jsx-34c6e65c9beeba9d indicator confidence-scoring"}),"Confidence Scoring: Enabled"]})]})]}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d messages-container",children:[s.map(e=>{var a,s;return(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d "+"message ".concat("Ms. Jarvis"===e.sender?"jarvis":"user"),children:[(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d message-header",children:[(0,i.jsx)("strong",{className:"jsx-34c6e65c9beeba9d",children:e.sender}),(0,i.jsx)("span",{className:"jsx-34c6e65c9beeba9d timestamp",children:new Date(e.timestamp).toLocaleTimeString()}),e.voice_input&&(0,i.jsx)("span",{className:"jsx-34c6e65c9beeba9d voice-badge",children:"\uD83C\uDFA4"}),e.confidence_level&&(0,i.jsxs)("div",{style:{backgroundColor:(a=e.confidence_level)>.8?"#4ade80":a>.6?"#fbbf24":"#ef4444"},className:"jsx-34c6e65c9beeba9d confidence-indicator",children:[Math.round(100*e.confidence_level),"% - ",(s=e.confidence_level)>.8?"High Confidence":s>.6?"Medium Confidence":"Low Confidence - Verification Needed"]})]}),(0,i.jsx)("div",{className:"jsx-34c6e65c9beeba9d message-content",children:e.message}),e.verification_status&&(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d verification-status",children:[(0,i.jsx)("strong",{className:"jsx-34c6e65c9beeba9d",children:"Verification:"})," ",e.verification_status]})]},e.id)}),x&&(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d speaking-indicator",children:[(0,i.jsx)("div",{className:"jsx-34c6e65c9beeba9d pulse-ring"}),"\uD83D\uDDE3️ Ms. Jarvis is speaking..."]})]}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d voice-controls",children:[(0,i.jsx)("button",{onClick:l?()=>b(!1):()=>{m.current&&!l&&(b(!0),m.current.start())},disabled:!u,className:"jsx-34c6e65c9beeba9d "+"voice-button ".concat(l?"listening":""),children:l?"\uD83D\uDED1 Stop Listening":"\uD83C\uDFA4 Talk to Ms. Jarvis"}),(0,i.jsxs)("div",{className:"jsx-34c6e65c9beeba9d text-input-section",children:[(0,i.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&v(),placeholder:"Ask me anything...",className:"jsx-34c6e65c9beeba9d"}),(0,i.jsx)("button",{onClick:()=>v(),className:"jsx-34c6e65c9beeba9d",children:"Send"})]})]}),(0,i.jsx)(c(),{id:"34c6e65c9beeba9d",children:".rag-voice-container.jsx-34c6e65c9beeba9d{max-width:1200px;margin:0 auto;padding:20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:white}.header.jsx-34c6e65c9beeba9d h1.jsx-34c6e65c9beeba9d{font-size:2.5rem;margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,.3);text-align:center}.status-bar.jsx-34c6e65c9beeba9d{display:flex;justify-content:center;gap:30px;flex-wrap:wrap;margin-bottom:30px}.status-item.jsx-34c6e65c9beeba9d{display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.1);padding:8px 16px;border-radius:20px;backdrop-filter:blur(10px)}.indicator.jsx-34c6e65c9beeba9d{width:10px;height:10px;border-radius:50%;animation:pulse 2s infinite}.voice-ready.jsx-34c6e65c9beeba9d{background:#4ade80}.rag-active.jsx-34c6e65c9beeba9d{background:#3b82f6}.confidence-scoring.jsx-34c6e65c9beeba9d{background:#f59e0b}.messages-container.jsx-34c6e65c9beeba9d{max-height:500px;overflow-y:auto;margin-bottom:30px;padding:20px;background:rgba(255,255,255,.1);border-radius:15px;backdrop-filter:blur(10px)}.message.jsx-34c6e65c9beeba9d{margin-bottom:20px;padding:15px;border-radius:15px;backdrop-filter:blur(10px)}.message.jarvis.jsx-34c6e65c9beeba9d{background:rgba(255,255,255,.2);margin-left:0;margin-right:20%}.message.user.jsx-34c6e65c9beeba9d{background:rgba(74,144,226,.3);margin-left:20%;margin-right:0}.message-header.jsx-34c6e65c9beeba9d{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:.9rem;flex-wrap:wrap;gap:10px}.confidence-indicator.jsx-34c6e65c9beeba9d{padding:4px 12px;border-radius:15px;font-size:.8rem;font-weight:bold;color:white;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.verification-status.jsx-34c6e65c9beeba9d{margin-top:8px;font-size:.85rem;background:rgba(0,0,0,.2);padding:6px 10px;border-radius:8px}.speaking-indicator.jsx-34c6e65c9beeba9d{text-align:center;padding:20px;position:relative}.pulse-ring.jsx-34c6e65c9beeba9d{width:30px;height:30px;border:3px solid#4ade80;border-radius:50%;animation:pulse-ring 1.5s infinite;margin:0 auto 10px}.voice-controls.jsx-34c6e65c9beeba9d{display:flex;gap:20px;align-items:center;background:rgba(255,255,255,.1);padding:20px;border-radius:15px;backdrop-filter:blur(10px)}.voice-button.jsx-34c6e65c9beeba9d{padding:15px 25px;background:linear-gradient(135deg,#ef4444 0%,#dc2626 100%);color:white;border:none;border-radius:50px;cursor:pointer;font-size:1.1rem;font-weight:bold;transition:all.3s;min-width:200px}.voice-button.listening.jsx-34c6e65c9beeba9d{background:linear-gradient(135deg,#fbbf24 0%,#f59e0b 100%);animation:pulse 1s infinite}.text-input-section.jsx-34c6e65c9beeba9d{flex:1;display:flex;gap:10px}.text-input-section.jsx-34c6e65c9beeba9d input.jsx-34c6e65c9beeba9d{flex:1;padding:15px;border:none;border-radius:25px;background:rgba(255,255,255,.9);color:#333;font-size:1rem}.text-input-section.jsx-34c6e65c9beeba9d button.jsx-34c6e65c9beeba9d{padding:15px 25px;background:linear-gradient(135deg,#4a90e2 0%,#357abd 100%);color:white;border:none;border-radius:25px;cursor:pointer;font-weight:bold}@keyframes pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.7}100%{transform:scale(1);opacity:1}}@keyframes pulse-ring{0%{transform:scale(1);opacity:1}100%{transform:scale(1.5);opacity:0}}"})]}):(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,i.jsx)("p",{children:"Loading Ms. Jarvis..."})})}}},e=>{e.O(0,[751,636,593,792],()=>e(e.s=1192)),_N_E=e.O()}]);